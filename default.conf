// Section names such as "DnsServer", "DnsRule" are all case-insensitive.
// All empty lines and whitespaces will be omitted, comment lines are
// start with `//`, inline comments are start with `#`, all characters
// after `#` will be treated as comments.


[Rule]
// [Rule] is equalient to [RoutingRule]
// Rules better group by their types (DOMAIN/IP/USER-AGENT)
// and targets (PROXY/DIRECT/REJECT) for better performance.
//
// DNS
// ==== prioritized proxy rules ====
IP-CIDR,8.8.8.8/32,PROXY
IP-CIDR,8.8.4.4/32,PROXY
IP-CIDR,1.1.1.1/32,PROXY
IP-CIDR,1.0.0.1/32,PROXY
IP-CIDR,9.9.9.9/32,PROXY
IP-CIDR,149.112.112.112/32,PROXY
IP-CIDR,208.67.222.222/32,PROXY
IP-CIDR,208.67.220.220/32,PROXY


// ==== block rules ====
//
DOMAIN-KEYWORD,geosite:category-ads-all,REJECT
DOMAIN-SUFFIX,log.tbs.qq.com,REJECT
DOMAIN-SUFFIX,baidu.com,REJECT
DOMAIN-SUFFIX,loggw.alipay.com,REJECT
DOMAIN-SUFFIX,piwik.caiyunapp.com,REJECT
DOMAIN-SUFFIX,crashlytics.com,REJECT
DOMAIN-SUFFIX,crossinstall.com,REJECT
DOMAIN-SUFFIX,www.philips-campaign.com,REJECT
DOMAIN-SUFFIX,logs.amap.com,REJECT
DOMAIN-SUFFIX,alipaylog.com,REJECT
DOMAIN-SUFFIX,shuzilm.com,REJECT
DOMAIN-SUFFIX,bugsnag.com,REJECT
DOMAIN-SUFFIX,vindicosuite.com,REJECT
DOMAIN-SUFFIX,nstool.netease.com,REJECT
DOMAIN-SUFFIX,trk.pinterest.com,REJECT
DOMAIN-SUFFIX,aeventlog.beacon.qq.com,REJECT
DOMAIN-SUFFIX,mam.netease.com,REJECT
DOMAIN-SUFFIX,ssjlicai.com,REJECT
DOMAIN-SUFFIX,pms.mb.qq.com,REJECT
DOMAIN-SUFFIX,easytomessage.com,REJECT
DOMAIN-SUFFIX,data.flurry.com,REJECT
DOMAIN-SUFFIX,logs.chelaile.net.cn,REJECT
DOMAIN-SUFFIX,nbsdk-baichuan.alicdn.com,REJECT
DOMAIN-SUFFIX,applog.mobike.com,REJECT
DOMAIN-SUFFIX,zmeng123.com,REJECT
DOMAIN-SUFFIX,trace.biyao.com,REJECT
DOMAIN-SUFFIX,cardniu.com,REJECT
DOMAIN-SUFFIX,bugly.qq.com,REJECT
DOMAIN-SUFFIX,branch.io,REJECT
DOMAIN-SUFFIX,sonelli.com,REJECT
DOMAIN-SUFFIX,jpush.cn,REJECT
DOMAIN-SUFFIX,update.googleapis.com,REJECT
DOMAIN-SUFFIX,awaken.amap.com,REJECT
DOMAIN-SUFFIX,ynuf.alipay.com,REJECT
DOMAIN-SUFFIX,page.amap.com,REJECT
DOMAIN-SUFFIX,irs01.com,REJECT
DOMAIN-SUFFIX,sns.amap.com,REJECT
DOMAIN-SUFFIX,dalog.shimo.im,REJECT
DOMAIN-SUFFIX,ts.amap.com,REJECT
DOMAIN-SUFFIX,cnzz.mmstat.com,REJECT
DOMAIN-SUFFIX,cnzz.com,REJECT
DOMAIN-SUFFIX,fp.fraudmetrix.cn,REJECT
DOMAIN-SUFFIX,hotfix.you.163.com,REJECT
DOMAIN-SUFFIX,applog.uc.cn,REJECT
DOMAIN-SUFFIX,crashlytics.163.com,REJECT
DOMAIN-SUFFIX,acs4baichuan.m.taobao.com,REJECT
DOMAIN-SUFFIX,crash.163.com,REJECT
DOMAIN-SUFFIX,cmg.amap.com,REJECT
DOMAIN-SUFFIX,amdcopen.m.taobao.com,REJECT
DOMAIN-SUFFIX,update.evernote.com,REJECT
DOMAIN-SUFFIX,110.taobao.com,REJECT
DOMAIN-SUFFIX,tools.3g.qq.com,REJECT
DOMAIN-SUFFIX,mazu.3g.qq.com,REJECT
DOMAIN-SUFFIX,getui.net,REJECT
DOMAIN-SUFFIX,getui.com,REJECT
DOMAIN-SUFFIX,adashx.m.taobao.com,REJECT
DOMAIN-SUFFIX,amdc.m.taobao.com,REJECT
DOMAIN-SUFFIX,kinglog.feidee.com,REJECT
DOMAIN-SUFFIX,tg.feidee.com,REJECT
DOMAIN-SUFFIX,kinglog.feidee.net,REJECT
DOMAIN-SUFFIX,tg.feidee.net,REJECT
//
// Xiaomi
DOMAIN-SUFFIX,api.ad.xiaomi.com,REJECT
DOMAIN-SUFFIX,sdkconfig.ad.xiaomi.com,REJECT
DOMAIN-SUFFIX,ad.mi.com,REJECT
DOMAIN-SUFFIX,ad.xiaomi.com,REJECT
DOMAIN-SUFFIX,ad1.xiaomi.com,REJECT
DOMAIN-SUFFIX,adv.sec.miui.com,REJECT
DOMAIN-SUFFIX,test.ad.xiaomi.com,REJECT
DOMAIN-SUFFIX,new.api.ad.xiaomi.com,REJECT
DOMAIN-SUFFIX,cdn.ad.xiaomi.com,REJECT
DOMAIN-SUFFIX,e.ad.xiaomi.com,REJECT
DOMAIN-SUFFIX,test.new.api.ad.xiaomi.com,REJECT
DOMAIN-SUFFIX,ssp.ad.xiaomi.com,REJECT
DOMAIN-SUFFIX,o2o.api.xiaomi.com,REJECT
DOMAIN-SUFFIX,api.cupid.ptqy.gitv.tv,REJECT
DOMAIN-SUFFIX,adinfo.ra1.xlmc.sec.miui.com,REJECT
DOMAIN-SUFFIX,api.miui.security.xiaomi.com,REJECT
DOMAIN-SUFFIX,global.search.xiaomi.net,REJECT
DOMAIN-SUFFIX,sousuo.xm.sjzhushou.com,REJECT
DOMAIN-SUFFIX,data.mistat.xiaomi.com,REJECT
DOMAIN-SUFFIX,tracking.miui.com,REJECT
DOMAIN-SUFFIX,video.miui.com,REJECT
DOMAIN-SUFFIX,account.ai.xiaomi.com,REJECT
DOMAIN-SUFFIX,abtest.mistat.xiaomi.com,REJECT
DOMAIN-SUFFIX,hot.browser.miui.com,REJECT
DOMAIN-SUFFIX,admob.com,REJECT
DOMAIN-SUFFIX,jumptap.com,REJECT
DOMAIN-SUFFIX,appads.com,REJECT
DOMAIN-SUFFIX,smaato.net,REJECT
DOMAIN-SUFFIX,smartadserver.com,REJECT
DOMAIN-SUFFIX,s.amazon-adsystem.com,REJECT
DOMAIN-SUFFIX,doubleclick.net,REJECT
DOMAIN-SUFFIX,googlesyndication.com,REJECT
DOMAIN-SUFFIX,medialytics.com,REJECT
DOMAIN-SUFFIX,google-analytics.com,REJECT
DOMAIN-SUFFIX,googlesyndication.com,REJECT
DOMAIN-SUFFIX,adinfuse.com,REJECT
DOMAIN-SUFFIX,adsrvr.org,REJECT
DOMAIN-SUFFIX,umeng.com,REJECT
DOMAIN-SUFFIX,umengcloud.com,REJECT
DOMAIN-SUFFIX,mtty.com,REJECT
DOMAIN-SUFFIX,adsafeprotected.com,REJECT
DOMAIN-SUFFIX,trustarc.com,REJECT
DOMAIN-SUFFIX,tanx.com,REJECT
DOMAIN-SUFFIX,growingio.com,REJECT
DOMAIN-SUFFIX,intercom.com,REJECT
DOMAIN-SUFFIX,mob.com,REJECT
DOMAIN-SUFFIX,adservice.google.com,REJECT
DOMAIN-SUFFIX,localytics.com,REJECT
DOMAIN-SUFFIX,jpush.io,REJECT
DOMAIN-SUFFIX,inner-active.com,REJECT
DOMAIN-SUFFIX,adnxs.com,REJECT
DOMAIN-SUFFIX,adashbc.m.taobao.com,REJECT
DOMAIN-SUFFIX,shuzilm.cn,REJECT
DOMAIN-SUFFIX,promo.xueqiu.com,REJECT
DOMAIN-SUFFIX,intercom.io,REJECT
DOMAIN-SUFFIX,amazon-adsystem.com,REJECT
DOMAIN-SUFFIX,adeventtracker.spotify.com,REJECT
DOMAIN-SUFFIX,ad.caiyunapp.com,REJECT
DOMAIN-SUFFIX,mopub.com,REJECT
DOMAIN-SUFFIX,ad.12306.cn,REJECT
//
// IP
IP-CIDR,59.111.160.197/32,REJECT
IP-CIDR,203.205.146.46/32,REJECT
IP-CIDR,140.205.252.4/32,REJECT
IP-CIDR,106.15.181.187/32,REJECT
IP-CIDR,14.215.138.68/32,REJECT
IP-CIDR,113.96.202.105/32,REJECT
IP-CIDR,183.3.234.107/32,REJECT
IP-CIDR,118.26.252.11/32,REJECT
IP-CIDR,140.205.218.24/32,REJECT
IP-CIDR,106.11.53.12/32,REJECT
IP-CIDR,106.11.248.1/32,REJECT
IP-CIDR,39.155.151.24/32,REJECT
IP-CIDR,111.202.16.55/32,REJECT
IP-CIDR,183.84.5.60/32,REJECT
IP-CIDR,203.100.92.95/32,REJECT
IP-CIDR,140.205.35.58/32,REJECT
IP-CIDR,106.11.53.15/32,REJECT
IP-CIDR,106.11.92.36/32,REJECT
IP-CIDR,203.119.205.113/32,REJECT
IP-CIDR,203.119.205.114/32,REJECT
IP-CIDR,140.205.163.87/32,REJECT
IP-CIDR,203.119.216.50/32,REJECT
IP-CIDR,140.205.160.63/32,REJECT
IP-CIDR,203.119.204.254/32,REJECT
IP-CIDR,106.11.12.92/32,REJECT
IP-CIDR,203.119.216.51/32,REJECT
IP-CIDR,113.96.202.106/32,REJECT
IP-CIDR,203.100.92.12/32,REJECT
IP-CIDR,99.84.194.20/32,REJECT
IP-CIDR,203.119.201.254/32,REJECT
IP-CIDR,117.48.116.23/32,REJECT
//
// Advertising Block 去广告以及隐私追踪保护
// General
DOMAIN-KEYWORD,adservice,REJECT
DOMAIN-KEYWORD,analytics,REJECT
DOMAIN-KEYWORD,analysis,REJECT
//
DOMAIN-SUFFIX,51.la,REJECT
DOMAIN-SUFFIX,alipaylog.com,REJECT


// ==== direct rules ====
//
// ip rules
GEOIP,cn,DIRECT
GEOIP,private,DIRECT

// user agent rules
USER-AGENT,*WeChat*,DIRECT
USER-AGENT,*MicroMessenger*,DIRECT
USER-AGENT,*%E7%BD%91%E6%98%93*,DIRECT
USER-AGENT,*Netease*,DIRECT
USER-AGENT,*?eituan*,DIRECT # meituan

// port rules
PORT,123,DIRECT

// toutiao
DOMAIN-SUFFIX,pstatp.com,DIRECT
DOMAIN-SUFFIX,snssdk.com,DIRECT
DOMAIN-SUFFIX,toutiao.com,DIRECT

// xigua
DOMAIN-SUFFIX,ixigua.com,DIRECT

// apple
DOMAIN-SUFFIX,apple.com,DIRECT
DOMAIN-SUFFIX,icloud.com,DIRECT

// cctv
DOMAIN-KEYWORD,cctv,DIRECT

// umeng
DOMAIN-KEYWORD,umeng,REJECT

// weibo
DOMAIN-SUFFIX,weico.cc,DIRECT

// meituan
DOMAIN-KEYWORD,meituan,DIRECT
DOMAIN-KEYWORD,dianping,DIRECT
DOMAIN-KEYWORD,maoyan,DIRECT

// eleme
DOMAIN-SUFFIX,ele.me,DIRECT
DOMAIN-SUFFIX,elemecdn.com,DIRECT
DOMAIN-SUFFIX,eleme.cn,DIRECT

// jd
DOMAIN-SUFFIX,jd.com,DIRECT
DOMAIN-SUFFIX,360buy.com,DIRECT
DOMAIN-SUFFIX,360buyimg.com,DIRECT

// douyu
DOMAIN-SUFFIX,douyu.tv,DIRECT
DOMAIN-SUFFIX,douyu.com,DIRECT
DOMAIN-SUFFIX,douyucdn.cn,DIRECT

// others
DOMAIN-KEYWORD,geosite:cn,DIRECT


// ==== proxy rules ====
//
// ip rules
// telegram
IP-CIDR,149.154.167.0/24,PROXY
IP-CIDR,149.154.175.0/24,PROXY
IP-CIDR,91.108.56.0/24,PROXY
// others
IP-CIDR,125.209.222.0/24,PROXY

// user agent rules
USER-AGENT,*Twitter*,PROXY
USER-AGENT,*Gmail*,PROXY
USER-AGENT,*Telegram*,PROXY
USER-AGENT,*Tumblr*,PROXY
USER-AGENT,*Facebook*,PROXY
USER-AGENT,*Pinterest*,PROXY
USER-AGENT,*Instagram*,PROXY

// twitter
DOMAIN-KEYWORD,twitter,PROXY
DOMAIN-SUFFIX,twimg.com,PROXY
DOMAIN-SUFFIX,t.co,PROXY

// google
DOMAIN-KEYWORD,google,PROXY
DOMAIN-SUFFIX,ggpht.com,PROXY
# DOMAIN-SUFFIX,google.com,PROXY
# DOMAIN-SUFFIX,googleapis.com,PROXY
# DOMAIN-SUFFIX,googleusercontent.com,PROXY
# DOMAIN-SUFFIX,googlevideo.com,PROXY
DOMAIN-SUFFIX,gstatic.com,PROXY
DOMAIN-SUFFIX,youtube.com,PROXY
DOMAIN-SUFFIX,ytimg.com,PROXY

// pixiv
DOMAIN-KEYWORD,pixiv,PROXY
DOMAIN-SUFFIX,pximg.net,PROXY

// tumblr
DOMAIN-KEYWORD,tumblr,PROXY

// instagram
DOMAIN-KEYWORD,instagram,PROXY

// LINE
DOMAIN-SUFFIX,line-scdn.net,PROXY
DOMAIN-SUFFIX,line.me,PROXY
DOMAIN-SUFFIX,naver.jp,PROXY

// facebook
DOMAIN-SUFFIX,facebook.com,PROXY
DOMAIN-SUFFIX,fbcdn.net,PROXY

// pinterest
DOMAIN-KEYWORD,pinterest,PROXY
# DOMAIN-SUFFIX,pinimg.com,PROXY

// github
DOMAIN-KEYWORD,github,PROXY
# DOMAIN-SUFFIX,github.io,PROXY
# DOMAIN-SUFFIX,githubusercontent.com,PROXY

// dropbox
DOMAIN-KEYWORD,dropbox,PROXY

// netflix
DOMAIN-KEYWORD,netflix,PROXY

// medium
DOMAIN-SUFFIX,medium.com,PROXY

// others
DOMAIN-SUFFIX,fivecdm.com,PROXY
DOMAIN-SUFFIX,quora.com,PROXY
DOMAIN-SUFFIX,startpage.com,PROXY


// ==== final ====
FINAL,PROXY


[DnsServer]
// Format: address,port,tag
//
// `tag` is a unique alphanumeric string for each DNS server, it's used for
// identifying DNS servers by DNS domain rules, it's case-insensitive. `tag`s are
// only help in the configuration parsing procedure, and won't be used elsewhere.
//
// `port` and `tag` could be omitted, means that using the default 53 port
// and no DNS rules attach to that DNS server.
//
// A DNS lookup will perform on DNS servers list below in order until results
// return, except there is a matching domain rule.

223.5.5.5
114.114.114.114
1.1.1.1,53,REMOTE
8.8.8.8,53
8.8.4.4

[DnsRule]
// DNS requests for domain names which match these rules will send to the DNS
// server with the corresponding tag name first, i.e. DNS server with the matched
// tag has the highest priority.

// Remote dns
DOMAIN-KEYWORD,google,REMOTE
DOMAIN-KEYWORD,android,REMOTE
DOMAIN-KEYWORD,fbcdn,REMOTE
DOMAIN-KEYWORD,facebook,REMOTE
DOMAIN-SUFFIX,fb.com,REMOTE
DOMAIN-KEYWORD,instagram,REMOTE
DOMAIN-KEYWORD,whatsapp,REMOTE
DOMAIN-KEYWORD,akamai,REMOTE
DOMAIN-SUFFIX,line-scdn.net,REMOTE
DOMAIN-SUFFIX,line.me,REMOTE
DOMAIN-SUFFIX,naver.jp,REMOTE
DOMAIN-SUFFIX,googlevideo.com,REMOTE
DOMAIN-SUFFIX,startpage.com,REMOTE

[DnsHost]
// Static DNS map that functions in the same way as /etc/hosts.

localhost = 127.0.0.1
www.localnetwork.uop = 127.0.0.1

[DnsClientIp]
// Client IP for EDNS Client Subnet extension, a single IP address.

115.239.211.92

[RoutingDomainStrategy]
// https://www.v2ray.com/chapter_02/03_routing.html

IPIfNonMatch

[LocalPolicy]
bufferSize = 4096
connIdle = 120
downlinkOnly = 0
handshake = 4
uplinkOnly = 0

[Log]
// Logging level for V2Ray
loglevel = warning
